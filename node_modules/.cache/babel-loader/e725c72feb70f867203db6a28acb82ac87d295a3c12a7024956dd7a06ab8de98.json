{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rande\\\\bingocaller\\\\src\\\\components\\\\GridDesigner.js\",\n  _s = $RefreshSig$();\n/*\r\n  src/components/GridDesigner.js\r\n  Minimal grid designer overlay: draw rectangle, set rows/cols, choose ordering\r\n  and either auto-fill sequential numbers (column-major default) or manual fill.\r\n*/\nimport React, { useRef, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction clamp(v, a, b) {\n  return Math.max(a, Math.min(b, v));\n}\nexport default function GridDesigner({\n  imageUrl,\n  initialGrid,\n  initialDefaults,\n  onSave,\n  onCancel\n}) {\n  _s();\n  var _ref, _initialGrid$rows, _ref2, _initialGrid$cols, _initialGrid$numberin, _initialGrid$numberin2, _ref3, _initialGrid$numberin3, _initialGrid$numberin4, _initialGrid$numberin5, _initialGrid$numberin6;\n  const imgRef = useRef(null);\n  const containerRef = useRef(null);\n  const [drawing, setDrawing] = useState(false);\n  const [rect, setRect] = useState(initialGrid !== null && initialGrid !== void 0 && initialGrid.bbox ? {\n    ...initialGrid.bbox\n  } : null);\n  const [startPt, setStartPt] = useState(null);\n  const [rows, setRows] = useState((_ref = (_initialGrid$rows = initialGrid === null || initialGrid === void 0 ? void 0 : initialGrid.rows) !== null && _initialGrid$rows !== void 0 ? _initialGrid$rows : initialDefaults === null || initialDefaults === void 0 ? void 0 : initialDefaults.rows) !== null && _ref !== void 0 ? _ref : 5);\n  const [cols, setCols] = useState((_ref2 = (_initialGrid$cols = initialGrid === null || initialGrid === void 0 ? void 0 : initialGrid.cols) !== null && _initialGrid$cols !== void 0 ? _initialGrid$cols : initialDefaults === null || initialDefaults === void 0 ? void 0 : initialDefaults.cols) !== null && _ref2 !== void 0 ? _ref2 : 20);\n  const [order, setOrder] = useState((initialGrid === null || initialGrid === void 0 ? void 0 : (_initialGrid$numberin = initialGrid.numbering) === null || _initialGrid$numberin === void 0 ? void 0 : _initialGrid$numberin.order) || (initialDefaults === null || initialDefaults === void 0 ? void 0 : initialDefaults.order) || 'column');\n  const [scrambled, setScrambled] = useState((initialGrid === null || initialGrid === void 0 ? void 0 : (_initialGrid$numberin2 = initialGrid.numbering) === null || _initialGrid$numberin2 === void 0 ? void 0 : _initialGrid$numberin2.mode) === 'manual' || (initialDefaults === null || initialDefaults === void 0 ? void 0 : initialDefaults.scrambled) || false);\n  const [firstNum, setFirstNum] = useState((_ref3 = (_initialGrid$numberin3 = initialGrid === null || initialGrid === void 0 ? void 0 : (_initialGrid$numberin4 = initialGrid.numbering) === null || _initialGrid$numberin4 === void 0 ? void 0 : _initialGrid$numberin4.first) !== null && _initialGrid$numberin3 !== void 0 ? _initialGrid$numberin3 : initialDefaults === null || initialDefaults === void 0 ? void 0 : initialDefaults.firstNum) !== null && _ref3 !== void 0 ? _ref3 : 1);\n  const [lastNum, setLastNum] = useState((_initialGrid$numberin5 = initialGrid === null || initialGrid === void 0 ? void 0 : (_initialGrid$numberin6 = initialGrid.numbering) === null || _initialGrid$numberin6 === void 0 ? void 0 : _initialGrid$numberin6.last) !== null && _initialGrid$numberin5 !== void 0 ? _initialGrid$numberin5 : rows * cols);\n  const [values, setValues] = useState((initialGrid === null || initialGrid === void 0 ? void 0 : initialGrid.values) || null);\n  useEffect(() => {\n    setLastNum(rows * cols);\n  }, [rows, cols]);\n\n  // Mouse/touch handlers to draw bbox relative to image client rect\n  const onPointerDown = e => {\n    if (!containerRef.current) return;\n    const rectC = containerRef.current.getBoundingClientRect();\n    const x = e.clientX - rectC.left;\n    const y = e.clientY - rectC.top;\n    setStartPt({\n      x,\n      y\n    });\n    setDrawing(true);\n  };\n  const onPointerMove = e => {\n    if (!drawing || !startPt || !containerRef.current) return;\n    const rectC = containerRef.current.getBoundingClientRect();\n    const x = clamp(e.clientX - rectC.left, 0, rectC.width);\n    const y = clamp(e.clientY - rectC.top, 0, rectC.height);\n    const x0 = Math.min(startPt.x, x);\n    const y0 = Math.min(startPt.y, y);\n    const x1 = Math.max(startPt.x, x);\n    const y1 = Math.max(startPt.y, y);\n    setRect({\n      x0,\n      y0,\n      x1,\n      y1\n    });\n  };\n  const finishDraw = () => {\n    setDrawing(false);\n    setStartPt(null);\n  };\n\n  // generate values for sequential fill\n  const generateSequential = () => {\n    const total = rows * cols;\n    const seq = [];\n    let value = Number(firstNum);\n    for (let i = 0; i < total; i++) {\n      seq.push(value);\n      value = value + 1;\n    }\n    // arrange according to order\n    const mat = Array.from({\n      length: rows\n    }, () => Array.from({\n      length: cols\n    }, () => null));\n    let idx = 0;\n    if (order === 'column') {\n      for (let c = 0; c < cols; c++) {\n        for (let r = 0; r < rows; r++) {\n          mat[r][c] = seq[idx++];\n        }\n      }\n    } else {\n      for (let r = 0; r < rows; r++) {\n        for (let c = 0; c < cols; c++) {\n          mat[r][c] = seq[idx++];\n        }\n      }\n    }\n    setValues(mat);\n  };\n  useEffect(() => {\n    if (!scrambled) generateSequential();\n  }, [rows, cols, order, firstNum, lastNum, scrambled]);\n  const updateCell = (r, c, v) => {\n    const next = values.map(row => row.slice());\n    next[r][c] = v === '' ? null : Number(v);\n    setValues(next);\n  };\n  const computeBboxPct = () => {\n    // compute normalized bbox (percent of container)\n    if (!rect || !containerRef.current) return null;\n    const rectC = containerRef.current.getBoundingClientRect();\n    const x0p = rect.x0 / rectC.width;\n    const y0p = rect.y0 / rectC.height;\n    const x1p = rect.x1 / rectC.width;\n    const y1p = rect.y1 / rectC.height;\n    return {\n      x0p,\n      y0p,\n      x1p,\n      y1p\n    };\n  };\n  const handleSave = () => {\n    // build grid object\n    const bbox = computeBboxPct();\n    const numbering = scrambled ? {\n      mode: 'manual'\n    } : {\n      mode: 'sequential',\n      order,\n      first: Number(firstNum),\n      last: Number(lastNum)\n    };\n    const grid = {\n      bbox,\n      rows: Number(rows),\n      cols: Number(cols),\n      numbering,\n      values\n    };\n    onSave(grid);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0,0,0,0.4)',\n      zIndex: 9999,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '90%',\n        maxWidth: 1000,\n        background: '#fff',\n        padding: 12,\n        borderRadius: 8,\n        maxHeight: '90%',\n        overflow: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Design Dab Grid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onCancel,\n            style: {\n              marginRight: 8\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSave,\n            disabled: !rect || !values,\n            children: \"Save Grid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 8,\n          display: 'flex',\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'relative',\n              border: '1px solid #ddd',\n              display: 'inline-block'\n            },\n            ref: containerRef,\n            onMouseDown: onPointerDown,\n            onMouseMove: onPointerMove,\n            onMouseUp: finishDraw,\n            onMouseLeave: finishDraw,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              ref: imgRef,\n              src: imageUrl,\n              alt: \"Design\",\n              style: {\n                display: 'block',\n                maxWidth: '100%',\n                height: 'auto'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), rect && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'absolute',\n                left: rect.x0,\n                top: rect.y0,\n                width: rect.x1 - rect.x0,\n                height: rect.y1 - rect.y0,\n                border: '2px dashed #00A',\n                background: 'rgba(0,160,255,0.08)'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this), rect && values && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: 'absolute',\n                left: rect.x0,\n                top: rect.y0,\n                width: rect.x1 - rect.x0,\n                height: rect.y1 - rect.y0,\n                pointerEvents: 'none'\n              },\n              children: Array.from({\n                length: rows\n              }).map((_, r) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  height: `${100 / rows}%`\n                },\n                children: Array.from({\n                  length: cols\n                }).map((_, c) => {\n                  var _values$r;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      flex: 1,\n                      border: '1px solid rgba(0,0,0,0.15)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      fontSize: 11,\n                      pointerEvents: 'none'\n                    },\n                    children: values === null || values === void 0 ? void 0 : (_values$r = values[r]) === null || _values$r === void 0 ? void 0 : _values$r[c]\n                  }, c, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, r, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 320\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Rows\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: rows,\n              min: 1,\n              max: 50,\n              onChange: e => setRows(Number(e.target.value)),\n              style: {\n                width: 80,\n                marginLeft: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Columns\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: cols,\n              min: 1,\n              max: 100,\n              onChange: e => setCols(Number(e.target.value)),\n              style: {\n                width: 80,\n                marginLeft: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Numbering\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  marginRight: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  checked: order === 'column',\n                  onChange: () => setOrder('column')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 48\n                }, this), \" Down columns\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"radio\",\n                  checked: order === 'row',\n                  onChange: () => setOrder('row')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 24\n                }, this), \" Across rows\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: scrambled,\n                onChange: e => {\n                  const isChecked = e.target.checked;\n                  setScrambled(isChecked);\n                  if (isChecked) {\n                    setValues(Array.from({\n                      length: rows\n                    }, () => Array.from({\n                      length: cols\n                    }, () => null)));\n                  } else {\n                    generateSequential();\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 17\n              }, this), \" Scrambled grid (manual fill)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), !scrambled && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"First number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: firstNum,\n              onChange: e => setFirstNum(Number(e.target.value)),\n              style: {\n                width: 100,\n                marginLeft: 8\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this), scrambled && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8,\n              maxHeight: 240,\n              overflow: 'auto',\n              border: '1px solid #eee',\n              padding: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 13,\n                fontWeight: 600,\n                marginBottom: 6\n              },\n              children: \"Fill numbers manually\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), Array.from({\n              length: rows\n            }).map((_, r) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 6,\n                marginBottom: 6\n              },\n              children: Array.from({\n                length: cols\n              }).map((_, c) => {\n                var _values$r$c, _values$r2;\n                return /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: (_values$r$c = values === null || values === void 0 ? void 0 : (_values$r2 = values[r]) === null || _values$r2 === void 0 ? void 0 : _values$r2[c]) !== null && _values$r$c !== void 0 ? _values$r$c : '',\n                  onChange: e => updateCell(r, c, e.target.value),\n                  style: {\n                    width: 48,\n                    textAlign: 'center'\n                  }\n                }, c, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 23\n                }, this);\n              })\n            }, r, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: generateSequential,\n              style: {\n                marginRight: 8\n              },\n              children: \"Preview Fill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setRows(5);\n                setCols(20);\n                setOrder('column');\n                setScrambled(false);\n                generateSequential();\n              },\n              children: \"Reset Defaults\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n}\n_s(GridDesigner, \"GDi6dtMwoAB7qgFaK56hmkSe2XI=\");\n_c = GridDesigner;\nvar _c;\n$RefreshReg$(_c, \"GridDesigner\");","map":{"version":3,"names":["React","useRef","useState","useEffect","jsxDEV","_jsxDEV","clamp","v","a","b","Math","max","min","GridDesigner","imageUrl","initialGrid","initialDefaults","onSave","onCancel","_s","_ref","_initialGrid$rows","_ref2","_initialGrid$cols","_initialGrid$numberin","_initialGrid$numberin2","_ref3","_initialGrid$numberin3","_initialGrid$numberin4","_initialGrid$numberin5","_initialGrid$numberin6","imgRef","containerRef","drawing","setDrawing","rect","setRect","bbox","startPt","setStartPt","rows","setRows","cols","setCols","order","setOrder","numbering","scrambled","setScrambled","mode","firstNum","setFirstNum","first","lastNum","setLastNum","last","values","setValues","onPointerDown","e","current","rectC","getBoundingClientRect","x","clientX","left","y","clientY","top","onPointerMove","width","height","x0","y0","x1","y1","finishDraw","generateSequential","total","seq","value","Number","i","push","mat","Array","from","length","idx","c","r","updateCell","next","map","row","slice","computeBboxPct","x0p","y0p","x1p","y1p","handleSave","grid","style","position","right","bottom","background","zIndex","display","alignItems","justifyContent","children","maxWidth","padding","borderRadius","maxHeight","overflow","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginRight","disabled","marginTop","gap","flex","border","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","src","alt","pointerEvents","_","_values$r","fontSize","marginBottom","type","onChange","target","marginLeft","checked","isChecked","fontWeight","_values$r$c","_values$r2","textAlign","_c","$RefreshReg$"],"sources":["C:/Users/Rande/bingocaller/src/components/GridDesigner.js"],"sourcesContent":["/*\r\n  src/components/GridDesigner.js\r\n  Minimal grid designer overlay: draw rectangle, set rows/cols, choose ordering\r\n  and either auto-fill sequential numbers (column-major default) or manual fill.\r\n*/\r\nimport React, { useRef, useState, useEffect } from 'react'\r\n\r\nfunction clamp(v, a, b) { return Math.max(a, Math.min(b, v)) }\r\n\r\nexport default function GridDesigner({ imageUrl, initialGrid, initialDefaults, onSave, onCancel }){\r\n  const imgRef = useRef(null)\r\n  const containerRef = useRef(null)\r\n  const [drawing, setDrawing] = useState(false)\r\n  const [rect, setRect] = useState(initialGrid?.bbox ? {...initialGrid.bbox} : null)\r\n  const [startPt, setStartPt] = useState(null)\r\n  const [rows, setRows] = useState(initialGrid?.rows ?? initialDefaults?.rows ?? 5)\r\n  const [cols, setCols] = useState(initialGrid?.cols ?? initialDefaults?.cols ?? 20)\r\n  const [order, setOrder] = useState((initialGrid?.numbering?.order) || initialDefaults?.order || 'column')\r\n  const [scrambled, setScrambled] = useState(initialGrid?.numbering?.mode === 'manual' || initialDefaults?.scrambled || false)\r\n  const [firstNum, setFirstNum] = useState(initialGrid?.numbering?.first ?? initialDefaults?.firstNum ?? 1)\r\n  const [lastNum, setLastNum] = useState(initialGrid?.numbering?.last ?? (rows*cols))\r\n  const [values, setValues] = useState(initialGrid?.values || null)\r\n\r\n  useEffect(()=>{ setLastNum(rows*cols) }, [rows, cols])\r\n\r\n  // Mouse/touch handlers to draw bbox relative to image client rect\r\n  const onPointerDown = (e) => {\r\n    if (!containerRef.current) return\r\n    const rectC = containerRef.current.getBoundingClientRect()\r\n    const x = e.clientX - rectC.left\r\n    const y = e.clientY - rectC.top\r\n    setStartPt({x,y})\r\n    setDrawing(true)\r\n  }\r\n  const onPointerMove = (e) => {\r\n    if (!drawing || !startPt || !containerRef.current) return\r\n    const rectC = containerRef.current.getBoundingClientRect()\r\n    const x = clamp(e.clientX - rectC.left, 0, rectC.width)\r\n    const y = clamp(e.clientY - rectC.top, 0, rectC.height)\r\n    const x0 = Math.min(startPt.x, x)\r\n    const y0 = Math.min(startPt.y, y)\r\n    const x1 = Math.max(startPt.x, x)\r\n    const y1 = Math.max(startPt.y, y)\r\n    setRect({ x0, y0, x1, y1 })\r\n  }\r\n  const finishDraw = () => { setDrawing(false); setStartPt(null) }\r\n\r\n  // generate values for sequential fill\r\n  const generateSequential = () => {\r\n    const total = rows*cols\r\n    const seq = []\r\n    let value = Number(firstNum)\r\n    for (let i=0;i<total;i++) { seq.push(value); value = value + 1 }\r\n    // arrange according to order\r\n    const mat = Array.from({length:rows}, ()=>Array.from({length:cols}, ()=>null))\r\n    let idx = 0\r\n    if (order === 'column') {\r\n      for (let c=0;c<cols;c++){\r\n        for (let r=0;r<rows;r++){\r\n          mat[r][c] = seq[idx++]\r\n        }\r\n      }\r\n    } else {\r\n      for (let r=0;r<rows;r++){\r\n        for (let c=0;c<cols;c++){\r\n          mat[r][c] = seq[idx++]\r\n        }\r\n      }\r\n    }\r\n    setValues(mat)\r\n  }\r\n\r\n  useEffect(()=>{ if (!scrambled) generateSequential() }, [rows, cols, order, firstNum, lastNum, scrambled])\r\n\r\n  const updateCell = (r,c,v) => {\r\n    const next = values.map(row=>row.slice())\r\n    next[r][c] = v === '' ? null : Number(v)\r\n    setValues(next)\r\n  }\r\n\r\n  const computeBboxPct = () => {\r\n    // compute normalized bbox (percent of container)\r\n    if (!rect || !containerRef.current) return null\r\n    const rectC = containerRef.current.getBoundingClientRect()\r\n    const x0p = rect.x0 / rectC.width\r\n    const y0p = rect.y0 / rectC.height\r\n    const x1p = rect.x1 / rectC.width\r\n    const y1p = rect.y1 / rectC.height\r\n    return { x0p, y0p, x1p, y1p }\r\n  }\r\n\r\n  const handleSave = () => {\r\n    // build grid object\r\n    const bbox = computeBboxPct()\r\n    const numbering = scrambled ? { mode: 'manual' } : { mode: 'sequential', order, first: Number(firstNum), last: Number(lastNum) }\r\n    const grid = { bbox, rows: Number(rows), cols: Number(cols), numbering, values }\r\n    onSave(grid)\r\n  }\r\n\r\n  return (\r\n    <div style={{position:'fixed',left:0,top:0,right:0,bottom:0,background:'rgba(0,0,0,0.4)',zIndex:9999,display:'flex',alignItems:'center',justifyContent:'center'}}>\r\n      <div style={{width:'90%',maxWidth:1000,background:'#fff',padding:12,borderRadius:8,maxHeight:'90%',overflow:'auto'}}>\r\n        <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>\r\n          <h3>Design Dab Grid</h3>\r\n          <div>\r\n            <button onClick={onCancel} style={{marginRight:8}}>Cancel</button>\r\n            <button onClick={handleSave} disabled={!rect || !values}>Save Grid</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{marginTop:8,display:'flex',gap:12}}>\r\n          <div style={{flex:1}}>\r\n            <div style={{position:'relative', border:'1px solid #ddd', display:'inline-block'}} ref={containerRef} onMouseDown={onPointerDown} onMouseMove={onPointerMove} onMouseUp={finishDraw} onMouseLeave={finishDraw}>\r\n              <img ref={imgRef} src={imageUrl} alt=\"Design\" style={{display:'block',maxWidth:'100%',height:'auto'}} />\r\n              {rect && (\r\n                <div style={{position:'absolute',left:rect.x0,top:rect.y0,width:rect.x1-rect.x0,height:rect.y1-rect.y0,border:'2px dashed #00A',background:'rgba(0,160,255,0.08)'}} />\r\n              )}\r\n              {/* grid preview inside rect */}\r\n              {rect && values && (\r\n                <div style={{position:'absolute',left:rect.x0,top:rect.y0,width:rect.x1-rect.x0,height:rect.y1-rect.y0,pointerEvents:'none'}}>\r\n                  {Array.from({length:rows}).map((_,r)=> (\r\n                    <div key={r} style={{display:'flex',height:`${100/rows}%`}}>\r\n                      {Array.from({length:cols}).map((_,c)=> (\r\n                        <div key={c} style={{flex:1,border:'1px solid rgba(0,0,0,0.15)',display:'flex',alignItems:'center',justifyContent:'center',fontSize:11,pointerEvents:'none'}}>\r\n                          {values?.[r]?.[c]}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{width:320}}>\r\n            <div style={{marginBottom:8}}>\r\n              <label>Rows</label>\r\n              <input type=\"number\" value={rows} min={1} max={50} onChange={(e)=>setRows(Number(e.target.value))} style={{width:80,marginLeft:8}} />\r\n            </div>\r\n            <div style={{marginBottom:8}}>\r\n              <label>Columns</label>\r\n              <input type=\"number\" value={cols} min={1} max={100} onChange={(e)=>setCols(Number(e.target.value))} style={{width:80,marginLeft:8}} />\r\n            </div>\r\n            <div style={{marginBottom:8}}>\r\n              <label>Numbering</label>\r\n              <div>\r\n                <label style={{marginRight:8}}><input type=\"radio\" checked={order==='column'} onChange={()=>setOrder('column')} /> Down columns</label>\r\n                <label><input type=\"radio\" checked={order==='row'} onChange={()=>setOrder('row')} /> Across rows</label>\r\n              </div>\r\n            </div>\r\n            <div style={{marginBottom:8}}>\r\n              <label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={scrambled}\r\n                  onChange={(e)=>{\r\n                    const isChecked = e.target.checked\r\n                    setScrambled(isChecked)\r\n                    if (isChecked) {\r\n                      setValues(Array.from({length:rows}, ()=> Array.from({length:cols}, ()=> null)))\r\n                    } else {\r\n                      generateSequential()\r\n                    }\r\n                  }}\r\n                /> Scrambled grid (manual fill)\r\n              </label>\r\n            </div>\r\n\r\n            {!scrambled && (\r\n              <div style={{marginBottom:8}}>\r\n                <label>First number</label>\r\n                <input type=\"number\" value={firstNum} onChange={(e)=>setFirstNum(Number(e.target.value))} style={{width:100,marginLeft:8}} />\r\n              </div>\r\n            )}\r\n\r\n            {scrambled && (\r\n              <div style={{marginTop:8,maxHeight:240,overflow:'auto',border:'1px solid #eee',padding:8}}>\r\n                <div style={{fontSize:13,fontWeight:600,marginBottom:6}}>Fill numbers manually</div>\r\n                {Array.from({length:rows}).map((_,r)=> (\r\n                  <div key={r} style={{display:'flex',gap:6,marginBottom:6}}>\r\n                    {Array.from({length:cols}).map((_,c)=> (\r\n                      <input key={c} value={values?.[r]?.[c] ?? ''} onChange={(e)=>updateCell(r,c,e.target.value)} style={{width:48,textAlign:'center'}} />\r\n                    ))}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            <div style={{marginTop:12}}>\r\n              <button onClick={generateSequential} style={{marginRight:8}}>Preview Fill</button>\r\n              <button onClick={()=>{ setRows(5); setCols(20); setOrder('column'); setScrambled(false); generateSequential(); }}>Reset Defaults</button>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}