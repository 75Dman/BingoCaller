{"ast":null,"code":"var _s = $RefreshSig$();\n/*\n  src/hooks/useOCR.js\n  Provides a simple wrapper around Tesseract.js for client-side OCR.\n  Exposes `recognize(file)` which returns the recognized text.\n*/\nimport { useState } from 'react';\nimport { createWorker } from 'tesseract.js';\nexport function useOCR() {\n  _s();\n  const [recognizing, setRecognizing] = useState(false);\n  const [resultText, setResultText] = useState('');\n  const recognize = async file => {\n    setRecognizing(true);\n    try {\n      const worker = await createWorker({\n        logger: m => {}\n      });\n      await worker.load();\n      await worker.loadLanguage('eng');\n      await worker.initialize('eng');\n      // restrict to digits and whitespace to improve accuracy on numbers\n      await worker.setParameters({\n        tessedit_char_whitelist: '0123456789\\n ,.'\n      });\n      const {\n        data: {\n          text\n        }\n      } = await worker.recognize(file);\n      setResultText(text);\n      await worker.terminate();\n      return text;\n    } catch (err) {\n      setResultText('');\n      console.error('OCR error', err);\n      return '';\n    } finally {\n      setRecognizing(false);\n    }\n  };\n  return {\n    recognizing,\n    resultText,\n    recognize\n  };\n}\n_s(useOCR, \"wTPkj8bC8rdEPc/5wAaYet+MV58=\");","map":{"version":3,"names":["useState","createWorker","useOCR","_s","recognizing","setRecognizing","resultText","setResultText","recognize","file","worker","logger","m","load","loadLanguage","initialize","setParameters","tessedit_char_whitelist","data","text","terminate","err","console","error"],"sources":["C:/Users/Rande/bingocaller/src/hooks/useOCR.js"],"sourcesContent":["/*\n  src/hooks/useOCR.js\n  Provides a simple wrapper around Tesseract.js for client-side OCR.\n  Exposes `recognize(file)` which returns the recognized text.\n*/\nimport { useState } from 'react'\nimport { createWorker } from 'tesseract.js'\n\nexport function useOCR(){\n  const [recognizing, setRecognizing] = useState(false)\n  const [resultText, setResultText] = useState('')\n\n  const recognize = async (file) => {\n    setRecognizing(true)\n    try {\n      const worker = await createWorker({ logger: m => {} })\n      await worker.load()\n      await worker.loadLanguage('eng')\n      await worker.initialize('eng')\n      // restrict to digits and whitespace to improve accuracy on numbers\n      await worker.setParameters({ tessedit_char_whitelist: '0123456789\\n ,.' })\n      const { data: { text } } = await worker.recognize(file)\n      setResultText(text)\n      await worker.terminate()\n      return text\n    } catch (err) {\n      setResultText('')\n      console.error('OCR error', err)\n      return ''\n    } finally {\n      setRecognizing(false)\n    }\n  }\n\n  return { recognizing, resultText, recognize }\n}\r\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,YAAY,QAAQ,cAAc;AAE3C,OAAO,SAASC,MAAMA,CAAA,EAAE;EAAAC,EAAA;EACtB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACM,UAAU,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAMQ,SAAS,GAAG,MAAOC,IAAI,IAAK;IAChCJ,cAAc,CAAC,IAAI,CAAC;IACpB,IAAI;MACF,MAAMK,MAAM,GAAG,MAAMT,YAAY,CAAC;QAAEU,MAAM,EAAEC,CAAC,IAAI,CAAC;MAAE,CAAC,CAAC;MACtD,MAAMF,MAAM,CAACG,IAAI,CAAC,CAAC;MACnB,MAAMH,MAAM,CAACI,YAAY,CAAC,KAAK,CAAC;MAChC,MAAMJ,MAAM,CAACK,UAAU,CAAC,KAAK,CAAC;MAC9B;MACA,MAAML,MAAM,CAACM,aAAa,CAAC;QAAEC,uBAAuB,EAAE;MAAkB,CAAC,CAAC;MAC1E,MAAM;QAAEC,IAAI,EAAE;UAAEC;QAAK;MAAE,CAAC,GAAG,MAAMT,MAAM,CAACF,SAAS,CAACC,IAAI,CAAC;MACvDF,aAAa,CAACY,IAAI,CAAC;MACnB,MAAMT,MAAM,CAACU,SAAS,CAAC,CAAC;MACxB,OAAOD,IAAI;IACb,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZd,aAAa,CAAC,EAAE,CAAC;MACjBe,OAAO,CAACC,KAAK,CAAC,WAAW,EAAEF,GAAG,CAAC;MAC/B,OAAO,EAAE;IACX,CAAC,SAAS;MACRhB,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,OAAO;IAAED,WAAW;IAAEE,UAAU;IAAEE;EAAU,CAAC;AAC/C;AAACL,EAAA,CA3BeD,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}