{"ast":null,"code":"var _s = $RefreshSig$();\n/*\n  src/hooks/useOCR.js\n  Provides a simple wrapper around Tesseract.js for client-side OCR.\n  Exposes `recognize(file)` which returns the recognized text and bounding boxes.\n*/\nimport { useState } from 'react';\nimport { createWorker } from 'tesseract.js';\nexport function useOCR() {\n  _s();\n  const [recognizing, setRecognizing] = useState(false);\n  const [resultText, setResultText] = useState('');\n  const [boxes, setBoxes] = useState([]);\n  const recognize = async file => {\n    setRecognizing(true);\n    try {\n      const worker = await createWorker({\n        logger: m => {}\n      });\n      await worker.loadLanguage('eng');\n      await worker.initialize('eng');\n      // restrict to digits and whitespace to improve accuracy on numbers\n      await worker.setParameters({\n        tessedit_char_whitelist: '0123456789\\n ,.'\n      });\n      const {\n        data\n      } = await worker.recognize(file);\n      setResultText(data.text);\n      // Extract bounding boxes for words\n      const wordBoxes = data.words.map(word => ({\n        text: word.text.trim(),\n        bbox: word.bbox\n      })).filter(box => box.text && /^\\d+$/.test(box.text)); // only numeric words\n      setBoxes(wordBoxes);\n      await worker.terminate();\n      return {\n        text: data.text,\n        boxes: wordBoxes\n      };\n    } catch (err) {\n      setResultText('');\n      setBoxes([]);\n      console.error('OCR error', err);\n      return {\n        text: '',\n        boxes: []\n      };\n    } finally {\n      setRecognizing(false);\n    }\n  };\n  return {\n    recognizing,\n    resultText,\n    boxes,\n    recognize\n  };\n}\n_s(useOCR, \"JIgR99/IGbmXnkQ9NyH2qRHxusY=\");","map":{"version":3,"names":["useState","createWorker","useOCR","_s","recognizing","setRecognizing","resultText","setResultText","boxes","setBoxes","recognize","file","worker","logger","m","loadLanguage","initialize","setParameters","tessedit_char_whitelist","data","text","wordBoxes","words","map","word","trim","bbox","filter","box","test","terminate","err","console","error"],"sources":["C:/Users/Rande/bingocaller/src/hooks/useOCR.js"],"sourcesContent":["/*\n  src/hooks/useOCR.js\n  Provides a simple wrapper around Tesseract.js for client-side OCR.\n  Exposes `recognize(file)` which returns the recognized text and bounding boxes.\n*/\nimport { useState } from 'react'\nimport { createWorker } from 'tesseract.js'\n\nexport function useOCR(){\n  const [recognizing, setRecognizing] = useState(false)\n  const [resultText, setResultText] = useState('')\n  const [boxes, setBoxes] = useState([])\n\n  const recognize = async (file) => {\n    setRecognizing(true)\n    try {\n      const worker = await createWorker({ logger: m => {} })\n      await worker.loadLanguage('eng')\n      await worker.initialize('eng')\n      // restrict to digits and whitespace to improve accuracy on numbers\n      await worker.setParameters({ tessedit_char_whitelist: '0123456789\\n ,.' })\n      const { data } = await worker.recognize(file)\n      setResultText(data.text)\n      // Extract bounding boxes for words\n      const wordBoxes = data.words.map(word => ({\n        text: word.text.trim(),\n        bbox: word.bbox\n      })).filter(box => box.text && /^\\d+$/.test(box.text)) // only numeric words\n      setBoxes(wordBoxes)\n      await worker.terminate()\n      return { text: data.text, boxes: wordBoxes }\n    } catch (err) {\n      setResultText('')\n      setBoxes([])\n      console.error('OCR error', err)\n      return { text: '', boxes: [] }\n    } finally {\n      setRecognizing(false)\n    }\n  }\n\n  return { recognizing, resultText, boxes, recognize }\n}\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,YAAY,QAAQ,cAAc;AAE3C,OAAO,SAASC,MAAMA,CAAA,EAAE;EAAAC,EAAA;EACtB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACM,UAAU,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMU,SAAS,GAAG,MAAOC,IAAI,IAAK;IAChCN,cAAc,CAAC,IAAI,CAAC;IACpB,IAAI;MACF,MAAMO,MAAM,GAAG,MAAMX,YAAY,CAAC;QAAEY,MAAM,EAAEC,CAAC,IAAI,CAAC;MAAE,CAAC,CAAC;MACtD,MAAMF,MAAM,CAACG,YAAY,CAAC,KAAK,CAAC;MAChC,MAAMH,MAAM,CAACI,UAAU,CAAC,KAAK,CAAC;MAC9B;MACA,MAAMJ,MAAM,CAACK,aAAa,CAAC;QAAEC,uBAAuB,EAAE;MAAkB,CAAC,CAAC;MAC1E,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMP,MAAM,CAACF,SAAS,CAACC,IAAI,CAAC;MAC7CJ,aAAa,CAACY,IAAI,CAACC,IAAI,CAAC;MACxB;MACA,MAAMC,SAAS,GAAGF,IAAI,CAACG,KAAK,CAACC,GAAG,CAACC,IAAI,KAAK;QACxCJ,IAAI,EAAEI,IAAI,CAACJ,IAAI,CAACK,IAAI,CAAC,CAAC;QACtBC,IAAI,EAAEF,IAAI,CAACE;MACb,CAAC,CAAC,CAAC,CAACC,MAAM,CAACC,GAAG,IAAIA,GAAG,CAACR,IAAI,IAAI,OAAO,CAACS,IAAI,CAACD,GAAG,CAACR,IAAI,CAAC,CAAC,EAAC;MACtDX,QAAQ,CAACY,SAAS,CAAC;MACnB,MAAMT,MAAM,CAACkB,SAAS,CAAC,CAAC;MACxB,OAAO;QAAEV,IAAI,EAAED,IAAI,CAACC,IAAI;QAAEZ,KAAK,EAAEa;MAAU,CAAC;IAC9C,CAAC,CAAC,OAAOU,GAAG,EAAE;MACZxB,aAAa,CAAC,EAAE,CAAC;MACjBE,QAAQ,CAAC,EAAE,CAAC;MACZuB,OAAO,CAACC,KAAK,CAAC,WAAW,EAAEF,GAAG,CAAC;MAC/B,OAAO;QAAEX,IAAI,EAAE,EAAE;QAAEZ,KAAK,EAAE;MAAG,CAAC;IAChC,CAAC,SAAS;MACRH,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,OAAO;IAAED,WAAW;IAAEE,UAAU;IAAEE,KAAK;IAAEE;EAAU,CAAC;AACtD;AAACP,EAAA,CAlCeD,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}