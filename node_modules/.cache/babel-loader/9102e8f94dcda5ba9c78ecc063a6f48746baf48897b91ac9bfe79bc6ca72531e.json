{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rande\\\\bingocaller\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n/*\n  src/App.js\n  Main application container. Coordinates OCR upload, card state,\n  ball picker, dab logic, auto/manual modes, and win detection.\n*/\nimport React, { useEffect, useState, useCallback } from 'react';\nimport ImageUploader from './components/ImageUploader';\nimport CardView from './components/CardView';\nimport BallPicker from './components/BallPicker';\nimport PlayerList from './components/PlayerList';\nimport DabOverlayControls from './components/DabOverlayControls';\nimport GridDesigner from './components/GridDesigner';\nimport WinModal from './components/WinModal';\nimport { useLocalStorage } from './hooks/useLocalStorage';\nimport { fireConfetti } from './utils/confetti';\n\n// Keys for localStorage\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LS_KEYS = {\n  CARD: 'bingo_card',\n  PLAYERS: 'bingo_players',\n  DABBED: 'bingo_dabbed',\n  CALLED: 'bingo_called',\n  SETTINGS: 'bingo_settings'\n};\nfunction defaultEmptyCard(rows = 5, cols = 5) {\n  // generate an empty card of placeholders (null means empty cell)\n  return Array.from({\n    length: rows\n  }, () => Array.from({\n    length: cols\n  }, () => null));\n}\nexport default function App() {\n  _s();\n  // Persisted state via custom hook\n  const [card, setCard] = useLocalStorage(LS_KEYS.CARD, defaultEmptyCard());\n  const [players, setPlayers] = useLocalStorage(LS_KEYS.PLAYERS, []);\n  const [dabbed, setDabbed] = useLocalStorage(LS_KEYS.DABBED, null);\n  const [called, setCalled] = useLocalStorage(LS_KEYS.CALLED, []);\n  const [settings, setSettings] = useLocalStorage(LS_KEYS.SETTINGS, {\n    maxBall: 75,\n    autoMode: false\n  });\n  const [imageUrl, setImageUrl] = useLocalStorage('bingo_image_url', null);\n  const [currentBall, setCurrentBall] = useState(null);\n  const [winnerRow, setWinnerRow] = useState(null);\n\n  // dab overlay grid state\n  const [gridDesignerOpen, setGridDesignerOpen] = useState(false);\n  const [grid, setGrid] = useLocalStorage('bingo_grid', null);\n  // defaults for designer (persisted)\n  const [gridDefaults, setGridDefaults] = useLocalStorage('bingo_grid_defaults', {\n    rows: 20,\n    cols: 5,\n    order: 'column',\n    scrambled: false,\n    firstNum: 1\n  });\n\n  // ensure dabbed matrix shape matches card\n  useEffect(() => {\n    var _card$;\n    if (!card) return;\n    const rows = card.length;\n    const cols = ((_card$ = card[0]) === null || _card$ === void 0 ? void 0 : _card$.length) || 0;\n    if (!dabbed || dabbed.length !== rows || dabbed[0].length !== cols) {\n      const newDab = Array.from({\n        length: rows\n      }, () => Array.from({\n        length: cols\n      }, () => false));\n      setDabbed(newDab);\n    }\n  }, [card]);\n\n  // Called when OCR or manual edit produces a new card matrix.\n  const setCardFromOCR = ({\n    rows,\n    imageUrl: imgUrl\n  }) => {\n    // If rows were extracted from text, prefer them (simple case)\n    if (rows && rows.length > 0) {\n      setCard(rows);\n      setImageUrl(imgUrl);\n      // reset dabbed when new card loaded\n      const newDab = Array.from({\n        length: rows.length\n      }, () => Array.from({\n        length: rows[0].length\n      }, () => false));\n      setDabbed(newDab);\n      // do NOT automatically change players or detect rows anymore\n      setCalled([]);\n      setCurrentBall(null);\n      setWinnerRow(null);\n      return;\n    }\n\n    // Fallback: no structured rows, just set empty or text-derived\n    const fallback = rows || defaultEmptyCard();\n    setCard(fallback);\n    setImageUrl(imgUrl);\n    const newDab2 = Array.from({\n      length: fallback.length\n    }, () => Array.from({\n      length: fallback[0].length\n    }, () => false));\n    setDabbed(newDab2);\n    setCalled([]);\n    setCurrentBall(null);\n    setWinnerRow(null);\n    return;\n  };\n\n  // Grid designer actions\n  const openGridDesigner = () => setGridDesignerOpen(true);\n  const closeGridDesigner = () => setGridDesignerOpen(false);\n  const clearGrid = () => {\n    setGrid(null);\n  };\n  const saveGrid = g => {\n    // g: { bbox, rows, cols, numbering, values }\n    setGrid(g);\n    // populate card matrix from values\n    if (g && g.values) {\n      setCard(g.values);\n      setDabbed(Array.from({\n        length: g.rows\n      }, () => Array.from({\n        length: g.cols\n      }, () => false)));\n    }\n    setGridDesignerOpen(false);\n  };\n\n  // toggle dab for a specific cell (manual)\n  const toggleDab = (r, c) => {\n    setDabbed(prev => {\n      const copy = prev.map(row => row.slice());\n      copy[r][c] = !copy[r][c];\n      return copy;\n    });\n  };\n\n  // When a number is called, mark any matching numbers on the card as dabbed (auto)\n  const handleNumberCalled = useCallback((num, {\n    auto\n  } = {\n    auto: false\n  }) => {\n    setCalled(prev => {\n      const next = [...prev, num];\n      return next;\n    });\n    setCurrentBall(num);\n    if (auto) {\n      setDabbed(prev => {\n        const copy = prev.map(row => row.slice());\n        for (let r = 0; r < card.length; r++) {\n          for (let c = 0; c < (card[r] || []).length; c++) {\n            if (String(card[r][c]) === String(num)) copy[r][c] = true;\n          }\n        }\n        return copy;\n      });\n    }\n  }, [card]);\n\n  // On any dab change, check for full-row wins\n  useEffect(() => {\n    if (!dabbed) return;\n    for (let r = 0; r < dabbed.length; r++) {\n      const row = dabbed[r];\n      const all = row.every(Boolean);\n      if (all) {\n        setWinnerRow(r);\n        fireConfetti();\n        break;\n      }\n    }\n  }, [dabbed]);\n  const resetGame = () => {\n    setCalled([]);\n    setCurrentBall(null);\n    setDabbed(prev => prev.map(row => row.map(() => false)));\n    setWinnerRow(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-root\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"topbar\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Custom Bingo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"left\",\n        children: [/*#__PURE__*/_jsxDEV(ImageUploader, {\n          onResult: setCardFromOCR\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DabOverlayControls, {\n          grid: grid,\n          defaults: gridDefaults,\n          setDefaults: setGridDefaults,\n          onDesign: openGridDesigner,\n          onClear: clearGrid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PlayerList, {\n          players: players,\n          setPlayers: setPlayers\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BallPicker, {\n          maxBall: settings.maxBall,\n          setMaxBall: v => setSettings(s => ({\n            ...s,\n            maxBall: v\n          })),\n          autoMode: settings.autoMode,\n          setAutoMode: v => setSettings(s => ({\n            ...s,\n            autoMode: v\n          })),\n          called: called,\n          onCall: num => handleNumberCalled(num, {\n            auto: settings.autoMode\n          }),\n          resetGame: resetGame,\n          currentBall: currentBall\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), gridDesignerOpen && /*#__PURE__*/_jsxDEV(GridDesigner, {\n          imageUrl: imageUrl,\n          initialGrid: grid,\n          initialDefaults: gridDefaults,\n          onSave: saveGrid,\n          onCancel: closeGridDesigner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"right\",\n        children: /*#__PURE__*/_jsxDEV(CardView, {\n          card: card,\n          players: players,\n          setPlayers: setPlayers,\n          dabbed: dabbed,\n          onToggleDab: toggleDab,\n          manualMode: !settings.autoMode,\n          setCard: setCard,\n          setDabbed: setDabbed,\n          imageUrl: imageUrl,\n          grid: grid\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(WinModal, {\n      open: winnerRow !== null,\n      onClose: () => setWinnerRow(null),\n      winner: {\n        row: winnerRow,\n        player: players[winnerRow]\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"Gt2bY1sngc5ULBYbwp3pfwwTntQ=\", false, function () {\n  return [useLocalStorage, useLocalStorage, useLocalStorage, useLocalStorage, useLocalStorage, useLocalStorage, useLocalStorage, useLocalStorage];\n});\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","ImageUploader","CardView","BallPicker","PlayerList","DabOverlayControls","GridDesigner","WinModal","useLocalStorage","fireConfetti","jsxDEV","_jsxDEV","LS_KEYS","CARD","PLAYERS","DABBED","CALLED","SETTINGS","defaultEmptyCard","rows","cols","Array","from","length","App","_s","card","setCard","players","setPlayers","dabbed","setDabbed","called","setCalled","settings","setSettings","maxBall","autoMode","imageUrl","setImageUrl","currentBall","setCurrentBall","winnerRow","setWinnerRow","gridDesignerOpen","setGridDesignerOpen","grid","setGrid","gridDefaults","setGridDefaults","order","scrambled","firstNum","_card$","newDab","setCardFromOCR","imgUrl","fallback","newDab2","openGridDesigner","closeGridDesigner","clearGrid","saveGrid","g","values","toggleDab","r","c","prev","copy","map","row","slice","handleNumberCalled","num","auto","next","String","all","every","Boolean","resetGame","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onResult","defaults","setDefaults","onDesign","onClear","setMaxBall","v","s","setAutoMode","onCall","initialGrid","initialDefaults","onSave","onCancel","onToggleDab","manualMode","open","onClose","winner","player","_c","$RefreshReg$"],"sources":["C:/Users/Rande/bingocaller/src/App.js"],"sourcesContent":["/*\n  src/App.js\n  Main application container. Coordinates OCR upload, card state,\n  ball picker, dab logic, auto/manual modes, and win detection.\n*/\nimport React, { useEffect, useState, useCallback } from 'react'\nimport ImageUploader from './components/ImageUploader'\nimport CardView from './components/CardView'\nimport BallPicker from './components/BallPicker'\nimport PlayerList from './components/PlayerList'\nimport DabOverlayControls from './components/DabOverlayControls'\nimport GridDesigner from './components/GridDesigner'\nimport WinModal from './components/WinModal'\nimport { useLocalStorage } from './hooks/useLocalStorage'\nimport { fireConfetti } from './utils/confetti'\n\n// Keys for localStorage\nconst LS_KEYS = {\n  CARD: 'bingo_card',\n  PLAYERS: 'bingo_players',\n  DABBED: 'bingo_dabbed',\n  CALLED: 'bingo_called',\n  SETTINGS: 'bingo_settings'\n}\n\nfunction defaultEmptyCard(rows = 5, cols = 5) {\n  // generate an empty card of placeholders (null means empty cell)\n  return Array.from({ length: rows }, () => Array.from({ length: cols }, () => null))\n}\n\nexport default function App() {\n  // Persisted state via custom hook\n  const [card, setCard] = useLocalStorage(LS_KEYS.CARD, defaultEmptyCard())\n  const [players, setPlayers] = useLocalStorage(LS_KEYS.PLAYERS, [])\n  const [dabbed, setDabbed] = useLocalStorage(LS_KEYS.DABBED, null)\n  const [called, setCalled] = useLocalStorage(LS_KEYS.CALLED, [])\n  const [settings, setSettings] = useLocalStorage(LS_KEYS.SETTINGS, { maxBall: 75, autoMode: false })\n  const [imageUrl, setImageUrl] = useLocalStorage('bingo_image_url', null)\n\n  const [currentBall, setCurrentBall] = useState(null)\n  const [winnerRow, setWinnerRow] = useState(null)\n\n  // dab overlay grid state\n  const [gridDesignerOpen, setGridDesignerOpen] = useState(false)\n  const [grid, setGrid] = useLocalStorage('bingo_grid', null)\n  // defaults for designer (persisted)\n  const [gridDefaults, setGridDefaults] = useLocalStorage('bingo_grid_defaults', { rows: 20, cols: 5, order: 'column', scrambled: false, firstNum: 1 })\n\n  // ensure dabbed matrix shape matches card\n  useEffect(() => {\n    if (!card) return\n    const rows = card.length\n    const cols = card[0]?.length || 0\n    if (!dabbed || dabbed.length !== rows || dabbed[0].length !== cols) {\n      const newDab = Array.from({ length: rows }, () => Array.from({ length: cols }, () => false))\n      setDabbed(newDab)\n    }\n  }, [card])\n\n  // Called when OCR or manual edit produces a new card matrix.\n  const setCardFromOCR = ({ rows, imageUrl: imgUrl }) => {\n    // If rows were extracted from text, prefer them (simple case)\n    if (rows && rows.length > 0) {\n      setCard(rows)\n      setImageUrl(imgUrl)\n      // reset dabbed when new card loaded\n      const newDab = Array.from({ length: rows.length }, () => Array.from({ length: rows[0].length }, () => false))\n      setDabbed(newDab)\n      // do NOT automatically change players or detect rows anymore\n      setCalled([])\n      setCurrentBall(null)\n      setWinnerRow(null)\n      return\n    }\n\n    // Fallback: no structured rows, just set empty or text-derived\n    const fallback = rows || defaultEmptyCard()\n    setCard(fallback)\n    setImageUrl(imgUrl)\n    const newDab2 = Array.from({ length: fallback.length }, () => Array.from({ length: fallback[0].length }, () => false))\n    setDabbed(newDab2)\n    setCalled([])\n    setCurrentBall(null)\n    setWinnerRow(null)\n    return\n  }\n\n  // Grid designer actions\n  const openGridDesigner = () => setGridDesignerOpen(true)\n  const closeGridDesigner = () => setGridDesignerOpen(false)\n  const clearGrid = () => { setGrid(null) }\n\n  const saveGrid = (g) => {\n    // g: { bbox, rows, cols, numbering, values }\n    setGrid(g)\n    // populate card matrix from values\n    if (g && g.values) {\n      setCard(g.values)\n      setDabbed(Array.from({ length: g.rows }, () => Array.from({ length: g.cols }, () => false)))\n    }\n    setGridDesignerOpen(false)\n  }\n\n  // toggle dab for a specific cell (manual)\n  const toggleDab = (r, c) => {\n    setDabbed(prev => {\n      const copy = prev.map(row => row.slice())\n      copy[r][c] = !copy[r][c]\n      return copy\n    })\n  }\n\n  // When a number is called, mark any matching numbers on the card as dabbed (auto)\n  const handleNumberCalled = useCallback((num, { auto } = { auto: false }) => {\n    setCalled(prev => {\n      const next = [...prev, num]\n      return next\n    })\n    setCurrentBall(num)\n    if (auto) {\n      setDabbed(prev => {\n        const copy = prev.map(row => row.slice())\n        for (let r = 0; r < card.length; r++) {\n          for (let c = 0; c < (card[r] || []).length; c++) {\n            if (String(card[r][c]) === String(num)) copy[r][c] = true\n          }\n        }\n        return copy\n      })\n    }\n  }, [card])\n\n  // On any dab change, check for full-row wins\n  useEffect(() => {\n    if (!dabbed) return\n    for (let r = 0; r < dabbed.length; r++) {\n      const row = dabbed[r]\n      const all = row.every(Boolean)\n      if (all) {\n        setWinnerRow(r)\n        fireConfetti()\n        break\n      }\n    }\n  }, [dabbed])\n\n  const resetGame = () => {\n    setCalled([])\n    setCurrentBall(null)\n    setDabbed(prev => prev.map(row => row.map(() => false)))\n    setWinnerRow(null)\n  }\n\n  return (\n    <div className=\"app-root\">\n      <header className=\"topbar\">\n        <h1>Custom Bingo</h1>\n      </header>\n      <main className=\"main\">\n        <section className=\"left\">\n          <ImageUploader onResult={setCardFromOCR} />\n          <DabOverlayControls grid={grid} defaults={gridDefaults} setDefaults={setGridDefaults} onDesign={openGridDesigner} onClear={clearGrid} />\n          <PlayerList players={players} setPlayers={setPlayers} />\n          <BallPicker\n            maxBall={settings.maxBall}\n            setMaxBall={(v) => setSettings(s => ({ ...s, maxBall: v }))}\n            autoMode={settings.autoMode}\n            setAutoMode={(v) => setSettings(s => ({ ...s, autoMode: v }))}\n            called={called}\n            onCall={(num) => handleNumberCalled(num, { auto: settings.autoMode })}\n            resetGame={resetGame}\n            currentBall={currentBall}\n          />\n          {gridDesignerOpen && (\n            <GridDesigner imageUrl={imageUrl} initialGrid={grid} initialDefaults={gridDefaults} onSave={saveGrid} onCancel={closeGridDesigner} />\n          )}\n        </section>\n        <section className=\"right\">\n          <CardView\n            card={card}\n            players={players}\n            setPlayers={setPlayers}\n            dabbed={dabbed}\n            onToggleDab={toggleDab}\n            manualMode={!settings.autoMode}\n            setCard={setCard}\n            setDabbed={setDabbed}\n            imageUrl={imageUrl}\n            grid={grid}\n          />\n        </section>\n      </main>\n      <WinModal\n        open={winnerRow !== null}\n        onClose={() => setWinnerRow(null)}\n        winner={{ row: winnerRow, player: players[winnerRow] }}\n      />\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}