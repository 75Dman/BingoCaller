{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rande\\\\bingocaller\\\\src\\\\components\\\\BingoCardView.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport CardView from './CardView';\nimport ConfirmModal from './ConfirmModal';\nimport confetti from 'canvas-confetti';\nimport { playWinSound } from '../utils/sound';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BingoCardView({\n  winner,\n  onWinClose,\n  ...props\n}) {\n  _s();\n  const rootRef = useRef(null);\n  const confCanvasRef = useRef(null);\n  const confettiInstanceRef = useRef(null);\n\n  // When the fullscreen view mounts, trigger a resize/scroll event so CardView recomputes overlay positions immediately\n  useEffect(() => {\n    // run a couple times spaced out so layout has a chance to settle\n    const tick = () => {\n      window.dispatchEvent(new Event('resize'));\n      window.dispatchEvent(new Event('scroll'));\n    };\n    const t1 = setTimeout(() => {\n      tick();\n      requestAnimationFrame(tick);\n    }, 20);\n    const t2 = setTimeout(() => {\n      tick();\n    }, 200);\n    return () => {\n      clearTimeout(t1);\n      clearTimeout(t2);\n    };\n  }, []);\n\n  // create a canvas inside this fullscreen view for confetti so it appears above modals\n  useEffect(() => {\n    if (!rootRef.current) return;\n    const container = rootRef.current;\n    const canvas = document.createElement('canvas');\n    canvas.style.position = 'absolute';\n    canvas.style.left = '0';\n    canvas.style.top = '0';\n    canvas.style.width = '100%';\n    canvas.style.height = '100%';\n    canvas.style.pointerEvents = 'none';\n    canvas.style.zIndex = 10005; // above modal\n    container.appendChild(canvas);\n    confCanvasRef.current = canvas;\n    confettiInstanceRef.current = confetti.create(canvas, {\n      resize: true\n    });\n    return () => {\n      try {\n        if (confettiInstanceRef.current) confettiInstanceRef.current.reset();\n      } catch (e) {}\n      if (canvas && canvas.parentNode) canvas.parentNode.removeChild(canvas);\n      confCanvasRef.current = null;\n      confettiInstanceRef.current = null;\n    };\n  }, [rootRef.current]);\n\n  // Fire confetti inside this view when a winner is set\n  useEffect(() => {\n    if (!winner) return;\n    const inst = confettiInstanceRef.current || confetti;\n    // small multi-burst effect\n    inst({\n      particleCount: 60,\n      spread: 60,\n      origin: {\n        y: 0.35\n      }\n    });\n    setTimeout(() => inst({\n      particleCount: 120,\n      spread: 100,\n      origin: {\n        y: 0.6\n      }\n    }), 250);\n    setTimeout(() => inst({\n      particleCount: 80,\n      spread: 140,\n      origin: {\n        y: 0.4\n      }\n    }), 900);\n    try {\n      playWinSound();\n    } catch (e) {}\n  }, [winner]);\n  const message = winner !== null && winner !== void 0 && winner.player ? /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n      children: winner.player\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 42\n    }, this), \" has bingo!\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 36\n  }, this) : (winner === null || winner === void 0 ? void 0 : winner.axis) === 'col' ? /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [\"Column \", winner.index + 1, \" has bingo!\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 121\n  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [\"Row \", (winner === null || winner === void 0 ? void 0 : winner.index) + 1, \" has bingo!\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 171\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: rootRef,\n    style: {\n      width: '100vw',\n      height: '100vh',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: 'rgba(6,34,58,0.95)',\n      position: 'relative'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        height: '100%',\n        overflow: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(CardView, {\n        ...props,\n        resizable: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmModal, {\n        open: !!winner,\n        title: \"Bingo Caller Pro\",\n        onConfirm: onWinClose,\n        onCancel: onWinClose,\n        confirmLabel: 'OK',\n        cancelLabel: 'Close',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 16\n          },\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(BingoCardView, \"G1xIY9v04hVY2wwf9xvBbHP3S/A=\");\n_c = BingoCardView;\nvar _c;\n$RefreshReg$(_c, \"BingoCardView\");","map":{"version":3,"names":["React","useEffect","useRef","CardView","ConfirmModal","confetti","playWinSound","jsxDEV","_jsxDEV","BingoCardView","winner","onWinClose","props","_s","rootRef","confCanvasRef","confettiInstanceRef","tick","window","dispatchEvent","Event","t1","setTimeout","requestAnimationFrame","t2","clearTimeout","current","container","canvas","document","createElement","style","position","left","top","width","height","pointerEvents","zIndex","appendChild","create","resize","reset","e","parentNode","removeChild","inst","particleCount","spread","origin","y","message","player","children","fileName","_jsxFileName","lineNumber","columnNumber","axis","index","ref","display","alignItems","justifyContent","background","overflow","resizable","open","title","onConfirm","onCancel","confirmLabel","cancelLabel","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/Rande/bingocaller/src/components/BingoCardView.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react'\r\nimport CardView from './CardView'\r\nimport ConfirmModal from './ConfirmModal'\r\nimport confetti from 'canvas-confetti'\r\nimport { playWinSound } from '../utils/sound'\r\n\r\nexport default function BingoCardView({ winner, onWinClose, ...props }){\r\n  const rootRef = useRef(null)\r\n  const confCanvasRef = useRef(null)\r\n  const confettiInstanceRef = useRef(null)\r\n\r\n  // When the fullscreen view mounts, trigger a resize/scroll event so CardView recomputes overlay positions immediately\r\n  useEffect(()=>{\r\n    // run a couple times spaced out so layout has a chance to settle\r\n    const tick = () => {\r\n      window.dispatchEvent(new Event('resize'))\r\n      window.dispatchEvent(new Event('scroll'))\r\n    }\r\n    const t1 = setTimeout(() => { tick(); requestAnimationFrame(tick) }, 20)\r\n    const t2 = setTimeout(() => { tick(); }, 200)\r\n    return () => { clearTimeout(t1); clearTimeout(t2) }\r\n  }, [])\r\n\r\n  // create a canvas inside this fullscreen view for confetti so it appears above modals\r\n  useEffect(()=>{\r\n    if (!rootRef.current) return\r\n    const container = rootRef.current\r\n    const canvas = document.createElement('canvas')\r\n    canvas.style.position = 'absolute'\r\n    canvas.style.left = '0'\r\n    canvas.style.top = '0'\r\n    canvas.style.width = '100%'\r\n    canvas.style.height = '100%'\r\n    canvas.style.pointerEvents = 'none'\r\n    canvas.style.zIndex = 10005 // above modal\r\n    container.appendChild(canvas)\r\n    confCanvasRef.current = canvas\r\n    confettiInstanceRef.current = confetti.create(canvas, { resize: true })\r\n    return () => {\r\n      try { if (confettiInstanceRef.current) confettiInstanceRef.current.reset(); } catch (e) {}\r\n      if (canvas && canvas.parentNode) canvas.parentNode.removeChild(canvas)\r\n      confCanvasRef.current = null\r\n      confettiInstanceRef.current = null\r\n    }\r\n  }, [rootRef.current])\r\n\r\n  // Fire confetti inside this view when a winner is set\r\n  useEffect(()=>{\r\n    if (!winner) return\r\n    const inst = confettiInstanceRef.current || confetti\r\n    // small multi-burst effect\r\n    inst({ particleCount: 60, spread: 60, origin: { y: 0.35 } })\r\n    setTimeout(()=> inst({ particleCount: 120, spread: 100, origin: { y: 0.6 } }), 250)\r\n    setTimeout(()=> inst({ particleCount: 80, spread: 140, origin: { y: 0.4 } }), 900)\r\n    try { playWinSound() } catch (e) { }\r\n  }, [winner])\r\n\r\n  const message = winner?.player ? <span><strong>{winner.player}</strong> has bingo!</span> : (winner?.axis === 'col' ? <span>Column {winner.index+1} has bingo!</span> : <span>Row {winner?.index+1} has bingo!</span>)\r\n\r\n  return (\r\n    <div ref={rootRef} style={{width:'100vw',height:'100vh',display:'flex',alignItems:'center',justifyContent:'center',background:'rgba(6,34,58,0.95)',position:'relative'}}>\r\n      <div style={{width:'100%',height:'100%',overflow:'auto'}}>\r\n        <CardView {...props} resizable={false} />\r\n        {/* render the themed winner modal inside the fullscreen wrapper so it is visible in-game */}\r\n        <ConfirmModal open={!!winner} title={\"Bingo Caller Pro\"} onConfirm={onWinClose} onCancel={onWinClose} confirmLabel={'OK'} cancelLabel={'Close'}>\r\n          <div style={{fontSize:16}}>{message}</div>\r\n        </ConfirmModal>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}